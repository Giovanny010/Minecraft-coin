<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minecraft Netherite Coin Live</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #121212;
      color: #fff;
      padding: 20px;
    }
    h1 {
      color: #ffcc00;
    }
    .card {
      background: #1f1f1f;
      padding: 20px;
      border-radius: 12px;
      display: inline-block;
      margin-top: 20px;
    }
    .price {
      font-size: 1.5em;
      margin-top: 10px;
    }
    input, select {
      padding: 5px;
      font-size: 1em;
      margin: 5px;
      width: 140px;
    }
    button {
      padding: 6px 12px;
      background: #ffcc00;
      border: none;
      color: #000;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #e6b800;
    }
  </style>
</head>
<body>
  <h1>⚒ Minecraft Netherite Coin</h1>
  <div class="card">
    <p>
      1 Netherite waarde (<span id="fiat-label">EUR</span>): 
      <input type="number" id="netheriteValue" value="40.00" step="0.01">
      <select id="fiatSelect">
        <option value="EUR" selected>EUR</option>
        <option value="USD">USD</option>
      </select>
      <button onclick="updatePrice()">Bereken</button>
    </p>
    <div class="price" id="output">Laden...</div>
  </div>

  <script>
    const DIAMONDS_PER_NETHERITE = 4; // in Minecraft: 1 Netherite Ingot = 4 Diamonds (upgrade craft)

    async function fetchBTCPrice(fiat) {
      const res = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=${fiat}`);
      const data = await res.json();
      return data.bitcoin[fiat.toLowerCase()];
    }

    async function updatePrice() {
      const fiat = document.getElementById("fiatSelect").value;
      const netheriteValue = parseFloat(document.getElementById("netheriteValue").value);
      document.getElementById("fiat-label").textContent = fiat;

      if (netheriteValue <= 0) {
        document.getElementById("output").textContent = "Ongeldige Netherite-waarde.";
        return;
      }

      try {
        const btcPrice = await fetchBTCPrice(fiat);
        const netheritePerMNC = btcPrice / netheriteValue;
        const diamondsPerMNC = netheritePerMNC * DIAMONDS_PER_NETHERITE;

        document.getElementById("output").innerHTML =
          `1 MNC ≈ ${netheritePerMNC.toFixed(2)} Netherite ingots<br>` +
          `(≈ ${diamondsPerMNC.toFixed(2)} diamanten) <br>` +
          `BTC: ${btcPrice.toLocaleString()} ${fiat}`;
      } catch (e) {
        document.getElementById("output").textContent = "Fout bij ophalen prijs.";
      }
    }

    updatePrice();
    setInterval(updatePrice, 60000); // elke minuut verversen
  </script>
</body>
</html>
